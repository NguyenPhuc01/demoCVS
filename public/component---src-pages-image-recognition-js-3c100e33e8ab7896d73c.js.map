{"version":3,"sources":["webpack:///./src/components/Tagging/Result.jsx","webpack:///./src/components/Tagging/DemoTagging.jsx","webpack:///./src/components/DemoPage3.js","webpack:///./src/pages/image-recognition.js","webpack:///./src/components/SmartCrop/Result.jsx","webpack:///./src/components/SmartCrop/DemoSmartCrop.jsx"],"names":["Result","result","data","sortedData","errorCode","errorMessage","sort","a","b","className","slice","map","item","key","name","value","Line","Name","width","toFixed","style","position","left","Value","styled","div","props","url","DemoTagging","setResult","useState","loading","setLoading","file","setFile","imageUrl","setImageUrl","input","setInput","error","setError","hasData","onReset","gutter","md","xs","multiple","accept","beforeUpload","showUploadList","onChange","disabled","src","URL","createObjectURL","alt","icon","DeleteFilled","top","right","type","onClick","e","stopPropagation","PlusOutlined","marginTop","target","isURL","placeholder","height","trackTrialEvent","window","location","pathname","formData","FormData","append","axios","method","auth","username","AuthKey","password","headers","then","res","catch","err","console","log","block","LoadingOutlined","fontSize","ViewApiButton","types","id","DemoPage3","useQueryParam","withDefault","StringParam","currentType","setCurrentType","demoOptions","DemoSmartCrop","tagging","fontWeight","lineHeight","fontFamily","color","orientation","size","wrap","align","justifyContent","isMobile","Layout","loadable","SEO","enquireScreen","IndexPage","state","componentDidMount","setState","render","this","intl","title","Component","injectIntl","cropPerson","invalidCode","invalidMessage","Style","marginBottom","WarningFilled","maxWidth","sizeList","text","setSize","sizeItem","borderRadius","JSON","stringify"],"mappings":"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","file":"component---src-pages-image-recognition-js-3c100e33e8ab7896d73c.js","sourcesContent":["import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\n\r\n\r\nexport default function Result({ result }) {\r\n\r\n    const { data, errorCode, errorMessage } = result || {}\r\n    const sortedData = data?.sort((a, b) => b[1] - a[1])\r\n\r\n    return (\r\n        <>\r\n            {data ? (\r\n                <>\r\n                    <div className='result-wrapper'>\r\n                        {sortedData.slice(0, 5).map((item, key) => {\r\n                            const [name, value] = item\r\n                            return (\r\n                                <Line key={key}>\r\n                                    <Name width={`${(value * 100).toFixed(2)}%`}>\r\n                                        <div style={{ position: 'absolute', left: '12px' }} >\r\n                                            {name}\r\n                                        </div>\r\n                                    </Name>\r\n                                    <Value>{(value * 100).toFixed(2)}%</Value>\r\n                                </Line>\r\n                            )\r\n                        })}\r\n                    </div>\r\n                </>\r\n            ) :\r\n                <div className='error'>\r\n                    Không tìm thấy nội dung. Vui lòng thử lại!\r\n                </div>}\r\n        </>\r\n    )\r\n}\r\n\r\nconst Line = styled.div`\r\n    background: rgba(255,255,255,0.1);\r\n    position: relative;\r\n    margin: 20px 0;\r\n    height: 24px;\r\n`\r\n\r\nconst Name = styled.div`\r\n    position: absolute;\r\n    height: 100%;\r\n    width: ${props => props.width};\r\n    background: #fff;\r\n    top: 0;\r\n    left: 0;\r\n    color: #000;\r\n`\r\n\r\nconst Value = styled.div`\r\n    position: absolute;\r\n    right: 12px;\r\n    top: 0;\r\n    color: #EC1C2A;\r\n`\r\n\r\n","import { DeleteFilled, LoadingOutlined, PlusOutlined } from '@ant-design/icons'\r\nimport { Col, Row, Upload, Button, Input } from 'antd'\r\nimport React, { useState } from 'react'\r\nimport axios from 'axios';\r\nimport { AuthKey } from '../AuthKey';\r\nimport { isURL, trackTrialEvent } from '../utils';\r\nimport Result from './Result';\r\nimport ViewApiButton from '../ViewApiButton';\r\n\r\nconst url = 'https://dev.computervision.com.vn/api/tagging/query'\r\n\r\nexport default function DemoTagging({ result, setResult }) {\r\n\r\n\r\n    const [loading, setLoading] = useState(false)\r\n    const [file, setFile] = useState(null)\r\n    const [imageUrl, setImageUrl] = useState(null)\r\n    const [input, setInput] = useState('')\r\n    const [error, setError] = useState('')\r\n\r\n    const hasData = file && result?.data\r\n\r\n    const onChangeFile = ({ file }) => {\r\n        setFile(file)\r\n    };\r\n\r\n    const onChangeLink = (e) => {\r\n        const { value } = e.target\r\n        setFile(null)\r\n        setInput(value)\r\n        if (value) {\r\n            if (isURL(value)) {\r\n                setImageUrl(value)\r\n                setError(null)\r\n            } else {\r\n                setError('Link ảnh không hợp lệ')\r\n            }\r\n        } else {\r\n            setError(null)\r\n        }\r\n    }\r\n\r\n    const onSubmit = () => {\r\n        if (!file && !imageUrl) return;\r\n        trackTrialEvent(window.location.pathname)\r\n\r\n        if (file) {\r\n            let formData = new FormData()\r\n            formData.append('image', file)\r\n            setLoading(true)\r\n            axios({\r\n                method: \"post\",\r\n                url,\r\n                auth: {\r\n                    username: AuthKey.username,\r\n                    password: AuthKey.password\r\n                },\r\n                data: formData,\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data',\r\n                    'Access-Control-Allow-Origin': '*'\r\n                }\r\n            })\r\n                .then(res => {\r\n                    setResult(res.data)\r\n                    setLoading(false)\r\n                })\r\n                .catch(err => {\r\n                    console.log(err)\r\n                    setLoading(false)\r\n                })\r\n        } else {\r\n            setLoading(true)\r\n            axios({\r\n                method: \"get\",\r\n                url: `${url}?url=${imageUrl}`,\r\n                auth: {\r\n                    username: AuthKey.username,\r\n                    password: AuthKey.password\r\n                },\r\n                headers: {\r\n                    'Access-Control-Allow-Origin': '*'\r\n                }\r\n            })\r\n                .then(res => {\r\n                    setResult(res.data)\r\n                    setLoading(false)\r\n                })\r\n                .catch(err => {\r\n                    console.log(err)\r\n                    setLoading(false)\r\n                })\r\n        }\r\n    }\r\n\r\n    const onReset = () => {\r\n        setFile(null)\r\n        setResult(null)\r\n        setImageUrl(null)\r\n        setInput('')\r\n    }\r\n\r\n    const onDelete = e => {\r\n        e.stopPropagation()\r\n        onReset()\r\n    }\r\n\r\n\r\n    return (\r\n        <Row gutter={[30, 60]}>\r\n            <Col md={12} xs={24}>\r\n                <Upload\r\n                    multiple={false}\r\n                    accept='image/*'\r\n                    beforeUpload={() => false}\r\n                    showUploadList={false}\r\n                    onChange={onChangeFile}\r\n                    disabled={loading || hasData}\r\n                    className='image-uploader'\r\n                >\r\n                    {(file || input) ?\r\n                        <div style={{ position: 'relative' }}>\r\n                            {error ? <div className='upload-area'>{error}</div> :\r\n                                <>\r\n                                    <img src={file ? URL.createObjectURL(file) : imageUrl} alt=\"avatar\" style={{ width: '100%' }} />\r\n                                    <Button icon={<DeleteFilled />} style={{ position: 'absolute', top: 0, right: 0 }} type='primary' onClick={onDelete} />\r\n                                </>\r\n                            }\r\n\r\n                        </div>\r\n                        : <div className='upload-area' >\r\n                            <PlusOutlined />\r\n                            <div style={{ marginTop: 8 }}>Upload</div>\r\n                        </div>}\r\n                </Upload>\r\n                <Input value={input} onChange={onChangeLink} placeholder='Hoặc nhập link ảnh' style={{ height: 46, marginTop: 8 }} />\r\n                <Button\r\n                    onClick={hasData ? onReset : onSubmit}\r\n                    loading={loading}\r\n                    type='primary'\r\n                    block\r\n                    style={{ height: 48, marginTop: 24 }}\r\n                >\r\n                    {hasData ? 'Thử lại' : 'XỬ LÝ'}\r\n                </Button>\r\n            </Col>\r\n            <Col md={12} xs={24}>\r\n                {/* <div className='flex-vertical' > */}\r\n                <div className='demo-result'>\r\n                    {result ?\r\n                        <Result result={result} />\r\n                        : <div className='note' >\r\n                            {loading ? <LoadingOutlined style={{ fontSize: 40 }} /> : 'Vui lòng thêm ảnh và nhấn \"Xử lý\" để trải nghiệm dịch vụ'}\r\n                        </div>\r\n                    }\r\n                </div>\r\n                <ViewApiButton />\r\n                {/* </div> */}\r\n            </Col>\r\n        </Row>\r\n\r\n    )\r\n}\r\n","import { Button, Space, Divider } from \"antd\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"gatsby-plugin-intl\";\r\nimport DemoSmartCrop from \"./SmartCrop/DemoSmartCrop\";\r\nimport DemoTagging from \"./Tagging/DemoTagging\";\r\nimport { useQueryParam, StringParam, withDefault } from \"use-query-params\";\r\n\r\nconst types = [\r\n  { id: 1, name: \"Smart crop\", key: \"smart-crop\" },\r\n  { id: 2, name: \"Tagging\", key: \"tagging\" }\r\n];\r\n\r\nexport default function DemoPage3() {\r\n  const [result, setResult] = useState(null);\r\n  const [currentType, setCurrentType] = useQueryParam(\r\n    \"type\",\r\n    withDefault(StringParam, \"smart-crop\")\r\n  );\r\n\r\n  const demoOptions = {\r\n    \"smart-crop\": <DemoSmartCrop result={result} setResult={setResult} />,\r\n    tagging: <DemoTagging result={result} setResult={setResult} />\r\n  };\r\n\r\n  return (\r\n    <div className=\"home-page-wrapper demo-wrapper\">\r\n      <div className=\"home-page demo\">\r\n        <div className=\"title-wrapper\">Xử lý hình ảnh</div>\r\n        <Divider\r\n          style={{\r\n            fontSize: 14,\r\n            fontWeight: 600,\r\n            lineHeight: \"22px\",\r\n            fontFamily: \"SFProDisplay\",\r\n            color: \"rgba(0, 0, 0, 0.85)\"\r\n          }}\r\n          orientation=\"left\"\r\n        >\r\n          Chọn sản phẩm\r\n        </Divider>\r\n        <div className=\"content-wrapper\">\r\n          <div className=\"content-layout\">\r\n            <Space\r\n              size={[8, 8]}\r\n              wrap\r\n              align=\"center\"\r\n              style={{\r\n                justifyContent: \"center\",\r\n                width: \"100%\"\r\n              }}\r\n            >\r\n              {types.map(type => {\r\n                const { id, name, key } = type;\r\n                return (\r\n                  <Button\r\n                    key={id}\r\n                    type={key === currentType ? \"primary\" : \"default\"}\r\n                    onClick={() => {\r\n                      setCurrentType(key);\r\n                      setResult(null);\r\n                    }}\r\n                  >\r\n                    {name}\r\n                  </Button>\r\n                );\r\n              })}\r\n            </Space>\r\n          </div>\r\n        </div>\r\n        <Divider\r\n          style={{\r\n            fontSize: 14,\r\n            fontWeight: 600,\r\n            lineHeight: \"22px\",\r\n            fontFamily: \"SFProDisplay\",\r\n            color: \"rgba(0, 0, 0, 0.85)\"\r\n          }}\r\n          orientation=\"left\"\r\n        >\r\n          Vui lòng chọn ảnh demo bên dưới hoặc tải ảnh từ máy của bạn lên\r\n        </Divider>\r\n        <div className=\"upload-wrapper\">{demoOptions[currentType]}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { enquireScreen } from \"enquire-js\";\r\nimport { injectIntl } from \"gatsby-plugin-intl\";\r\nimport loadable from \"@loadable/component\";\r\nimport DemoPage3 from \"../components/DemoPage3\";\r\n\r\nconst Layout = loadable(() => import(\"../components/Layout\"));\r\nconst SEO = loadable(() => import(\"../components/SEO\"));\r\n\r\nlet isMobile;\r\nenquireScreen(b => {\r\n  isMobile = b;\r\n});\r\n\r\nclass IndexPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isMobile\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    enquireScreen(b => {\r\n      this.setState({ isMobile: !!b });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { intl } = this.props;\r\n\r\n    return (\r\n      <>\r\n        <SEO title=\"Xử lý hình ảnh | CVS\" />\r\n        <Layout>\r\n          <DemoPage3 />\r\n        </Layout>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default injectIntl(IndexPage);\r\n","import React from 'react'\r\nimport { WarningFilled } from '@ant-design/icons'\r\nimport styled from 'styled-components'\r\n\r\nexport default function Result({ result, cropPerson }) {\r\n\r\n    const { url, errorCode, errorMessage, invalidCode, invalidMessage } = result || {}\r\n\r\n    return (\r\n        <>\r\n            {url ? (\r\n                <>\r\n                    <div className='result-wrapper'>\r\n                        <Style>\r\n                            {cropPerson && <>{invalidCode !== 0 && <div style={{ fontSize: 14, marginBottom: 20 }} ><WarningFilled style={{ color: '#F29C1F' }} /> {invalidMessage}</div>}</>}\r\n                            <img alt='img' src={url} style={{ maxWidth: '100%' }} />\r\n                        </Style>\r\n                    </div>\r\n                </>\r\n            ) :\r\n                <div className='error'>\r\n                    Không tìm thấy nội dung. Vui lòng thử lại!\r\n                </div>}\r\n        </>\r\n    )\r\n}\r\n\r\nconst Style = styled.div`\r\n    min-height: 300px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n`\r\n\r\n","import { DeleteFilled, LoadingOutlined, PlusOutlined } from '@ant-design/icons'\r\nimport { Col, Row, Upload, Button, Input, Space } from 'antd'\r\nimport React, { useState } from 'react'\r\nimport axios from 'axios';\r\nimport { AuthKey } from '../AuthKey';\r\nimport { isURL, trackTrialEvent } from '../utils';\r\nimport Result from './Result';\r\nimport ViewApiButton from '../ViewApiButton';\r\n\r\nconst sizeList = [\r\n    {\r\n        id: 1,\r\n        size: {\r\n            width: '100',\r\n            height: '100'\r\n        },\r\n        text: '100x100'\r\n    },\r\n    {\r\n        id: 2,\r\n        size: {\r\n            width: '210',\r\n            height: '140'\r\n        },\r\n        text: '210x140'\r\n    },\r\n    {\r\n        id: 3,\r\n        size: {\r\n            width: '750',\r\n            height: '450'\r\n        },\r\n        text: '750x450'\r\n    },\r\n    {\r\n        id: 4,\r\n        size: {\r\n            width: '1920',\r\n            height: '1080'\r\n        },\r\n        text: '1920x1080'\r\n    }\r\n]\r\n\r\n\r\nconst url1 = 'https://demo.computervision.com.vn/api/v2/smartcrop/crop_person'\r\nconst url2 = 'https://demo.computervision.com.vn/api/v2/smartcrop/crop_image'\r\n\r\nexport default function DemoSmartCrop({ cropPerson, result, setResult }) {\r\n\r\n\r\n    const [loading, setLoading] = useState(false)\r\n    const [file, setFile] = useState(null)\r\n    const [imageUrl, setImageUrl] = useState(null)\r\n    const [input, setInput] = useState('')\r\n    const [error, setError] = useState('')\r\n    const [size, setSize] = useState({ width: '100', height: '100' })\r\n\r\n    const hasData = file && result?.data\r\n\r\n    const onChangeFile = ({ file }) => {\r\n        setFile(file)\r\n    };\r\n\r\n    const onChangeLink = (e) => {\r\n        const { value } = e.target\r\n        setFile(null)\r\n        setInput(value)\r\n        if (value) {\r\n            if (isURL(value)) {\r\n                setImageUrl(value)\r\n                setError(null)\r\n            } else {\r\n                setError('Link ảnh không hợp lệ')\r\n            }\r\n        } else {\r\n            setError(null)\r\n        }\r\n    }\r\n\r\n    const onSubmit = () => {\r\n        if (!file && !imageUrl) return;\r\n        trackTrialEvent(window.location.pathname)\r\n\r\n        const url = cropPerson ? url1 : url2\r\n\r\n        if (file) {\r\n            let formData = new FormData()\r\n            formData.append('img', file)\r\n            setLoading(true)\r\n            axios({\r\n                method: \"post\",\r\n                url: `${url}?width=${size.width}&height=${size.height}`,\r\n                auth: {\r\n                    username: AuthKey.username,\r\n                    password: AuthKey.password\r\n                },\r\n                data: formData,\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data',\r\n                    'Access-Control-Allow-Origin': '*'\r\n                }\r\n            })\r\n                .then(res => {\r\n                    setResult(res.data)\r\n                    setLoading(false)\r\n                })\r\n                .catch(err => {\r\n                    console.log(err)\r\n                    setLoading(false)\r\n                })\r\n        } else {\r\n            setLoading(true)\r\n            axios({\r\n                method: \"get\",\r\n                url: `${url}?url=${imageUrl}&width=${size.width}&height=${size.height}`,\r\n                auth: {\r\n                    username: AuthKey.username,\r\n                    password: AuthKey.password\r\n                },\r\n                headers: {\r\n                    'Access-Control-Allow-Origin': '*'\r\n                }\r\n            })\r\n                .then(res => {\r\n                    setResult(res.data)\r\n                    setLoading(false)\r\n                })\r\n                .catch(err => {\r\n                    console.log(err)\r\n                    setLoading(false)\r\n                })\r\n        }\r\n    }\r\n\r\n    const onReset = () => {\r\n        setFile(null)\r\n        setResult(null)\r\n        setImageUrl(null)\r\n        setInput('')\r\n    }\r\n\r\n    const onDelete = e => {\r\n        e.stopPropagation()\r\n        onReset()\r\n    }\r\n\r\n    const setWidth = e => {\r\n        const { value } = e.target\r\n        setSize(size => ({ ...size, width: value }))\r\n    }\r\n    const setHeight = e => {\r\n        const { value } = e.target\r\n        setSize(size => ({ ...size, height: value }))\r\n    }\r\n\r\n\r\n    return (\r\n        <Row gutter={[30, 60]}>\r\n            <Col md={12} xs={24}>\r\n                <Upload\r\n                    multiple={false}\r\n                    accept='image/*'\r\n                    beforeUpload={() => false}\r\n                    showUploadList={false}\r\n                    onChange={onChangeFile}\r\n                    disabled={loading || hasData}\r\n                    className='image-uploader'\r\n                >\r\n                    {(file || input) ?\r\n                        <div style={{ position: 'relative' }}>\r\n                            {error ? <div className='upload-area'>{error}</div> :\r\n                                <>\r\n                                    <img src={file ? URL.createObjectURL(file) : imageUrl} alt=\"avatar\" style={{ width: '100%' }} />\r\n                                    <Button icon={<DeleteFilled />} style={{ position: 'absolute', top: 0, right: 0 }} type='primary' onClick={onDelete} />\r\n                                </>\r\n                            }\r\n\r\n                        </div>\r\n                        : <div className='upload-area' >\r\n                            <PlusOutlined />\r\n                            <div style={{ marginTop: 8 }}>Upload</div>\r\n                        </div>}\r\n                </Upload>\r\n                <Input value={input} onChange={onChangeLink} placeholder='Hoặc nhập link ảnh' style={{ height: 46, marginTop: 8 }} />\r\n                <div style={{ marginTop: 24, marginBottom: 4 }}>Chọn kích thước ảnh</div>\r\n                <Space wrap>\r\n                    {sizeList.map(item => {\r\n                        const { id, size: sizeItem, text } = item\r\n                        return <Button style={{ height: 40, borderRadius: '4px', width: 120 }}\r\n                            key={id}\r\n                            onClick={() => setSize(sizeItem)}\r\n                            type={JSON.stringify(size) === JSON.stringify(sizeItem) ? 'primary' : 'default'}\r\n                        >{text}</Button>\r\n                    })}\r\n                </Space>\r\n                <div style={{ marginTop: 24, marginBottom: 4 }}>Hoặc nhập kích thước mong muốn</div>\r\n                <Space>\r\n                    <Input style={{ width: 120, height: 40, borderRadius: '4px' }} value={size.width} onChange={setWidth} placeholder='Chiều rộng' />\r\n                    <Input style={{ width: 120, height: 40, borderRadius: '4px' }} value={size.height} onChange={setHeight} placeholder='Chiều cao' />\r\n                </Space>\r\n                <Button\r\n                    onClick={hasData ? onReset : onSubmit}\r\n                    loading={loading}\r\n                    type='primary'\r\n                    block\r\n                    style={{ height: 48, marginTop: 24 }}\r\n                >\r\n                    {hasData ? 'Thử lại' : 'XỬ LÝ'}\r\n                </Button>\r\n            </Col>\r\n            <Col md={12} xs={24}>\r\n                {/* <div className='flex-vertical' > */}\r\n                <div className='demo-result'>\r\n                    {result ?\r\n                        <Result result={result} cropPerson={cropPerson} />\r\n                        : <div className='note' >\r\n                            {loading ? <LoadingOutlined style={{ fontSize: 40 }} /> : 'Vui lòng thêm ảnh và nhấn \"Xử lý\" để trải nghiệm dịch vụ'}\r\n                        </div>\r\n                    }\r\n                </div>\r\n                <ViewApiButton />\r\n                {/* </div> */}\r\n            </Col>\r\n        </Row>\r\n\r\n    )\r\n}\r\n"],"sourceRoot":""}